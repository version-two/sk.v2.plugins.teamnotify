<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"
       default-autowire="constructor">

    <bean id="pluginDescriptor" class="jetbrains.buildServer.web.openapi.impl.PluginDescriptorImpl"/>
    <bean id="webControllerManager" class="jetbrains.buildServer.web.openapi.WebControllerManager"/>
    <bean id="sBuildServer" class="jetbrains.buildServer.serverSide.SBuildServer"/>
    <bean id="projectSettingsManager" class="jetbrains.buildServer.serverSide.settings.ProjectSettingsManager"/>
    <bean id="projectManager" class="jetbrains.buildServer.serverSide.ProjectManager"/>
    <bean id="pagePlaces" class="jetbrains.buildServer.web.openapi.PagePlaces"/>
    <bean id="eventDispatcher" class="jetbrains.buildServer.util.EventDispatcher"/>

    <bean id="teamNotifySettingsFactory" class="sk.v2.plugins.teamnotify.settings.TeamNotifySettingsFactory"/>

    <bean id="notifierSettingsController" class="sk.v2.plugins.teamnotify.controllers.NotifierSettingsController" init-method="register"/>
    <bean id="teamNotifyAdminController" class="sk.v2.plugins.teamnotify.controllers.TeamNotifyAdminController" init-method="register"/>
    <bean id="notifierBuildServerListener" class="sk.v2.plugins.teamnotify.listeners.NotifierBuildServerListener" init-method="register"/>
    <bean id="webhookService" class="sk.v2.plugins.teamnotify.services.WebhookService"/>
    <bean id="webhookManager" class="sk.v2.plugins.teamnotify.services.WebhookManager"/>
    <bean id="buildStallTracker" class="sk.v2.plugins.teamnotify.services.BuildStallTracker"/>
    <bean id="buildDurationService" class="sk.v2.plugins.teamnotify.services.BuildDurationService"/>
    <bean id="stalledBuildTimer" class="sk.v2.plugins.teamnotify.services.StalledBuildTimer"/>
    
    <!-- Debug startup bean -->
    <bean id="teamNotifyStartupActivity" class="sk.v2.plugins.teamnotify.TeamNotifyStartupActivity"/>
    
    <!-- UI Tab Extensions -->
    <bean id="teamNotifyAdminPageExtension" class="sk.v2.plugins.teamnotify.extensions.TeamNotifyAdminPageExtension"/>
    <bean id="projectWebhookSettingsTab" class="sk.v2.plugins.teamnotify.extensions.ProjectWebhookSettingsTab"/>
    <bean id="buildConfigurationWebhookSettingsTab" class="sk.v2.plugins.teamnotify.extensions.BuildConfigurationWebhookSettingsTab"/>

</beans>